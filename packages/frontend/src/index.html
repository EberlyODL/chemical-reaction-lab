<html>

<head>
  <title>
    chemical-reaction-lab
  </title>
  <meta name="description" content="chemical-reaction-lab">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <script src="app.js"></script>
</head>

<body>

  <crl-intro></crl-intro>

  <a-scene 
  preloader="debug:true;"
  loading-screen="dotsColor:red; backgroundColor:black; enabled:true"
  cursor="rayOrigin: mouse;"
  renderer="antialias: true; gammaOutput: true; gammaFactor: 2.2; sortObjects: true;">
  
  <a-assets>
  
    <!-- Objects -->
    <a-asset-item id="01MCaCl2-object" src="assets/bottles/01MCaCl2.gltf"></a-asset-item>
    <a-asset-item id="01MKI-object" src="assets/bottles/01MKI.gltf"></a-asset-item>
    <a-asset-item id="01MNa2CO3-object" src="assets/bottles/01MNa2CO3.gltf"></a-asset-item>
    <a-asset-item id="1MNa2CO3-object" src="assets/bottles/1MNa2CO3.gltf"></a-asset-item>
    <a-asset-item id="01MNaBr-object" src="assets/bottles/01MNaBr.gltf"></a-asset-item>
    <a-asset-item id="03MAgNO3-object" src="assets/bottles/03MAgNO3.gltf"></a-asset-item>
    <a-asset-item id="3MHCl-object" src="assets/bottles/3MHCl.gltf"></a-asset-item>
    <a-asset-item id="3MNaOH-object" src="assets/bottles/3MNaOH.gltf"></a-asset-item>
    <a-asset-item id="013CuSO4-object" src="assets/bottles/013CuSO4.gltf"></a-asset-item>
    <a-asset-item id="copperstrips-object" src="assets/bottles/copperstrips.gltf"></a-asset-item>
    <a-asset-item id="CuOH2-object" src="assets/bottles/CuOH2.gltf"></a-asset-item>
    <a-asset-item id="magnesiumstrips.gltf" src="assets/bottles/magnesiumstrips.gltf"></a-asset-item>
  
    <!-- Chem Lab Assets -->
    <a-asset-item id="acidcab_a.gltf" src="assets/chem-lab/acidcab_a.gltf"></a-asset-item>
    <a-asset-item id="acidcab_b.gltf" src="assets/chem-lab/acidcab_b.gltf"></a-asset-item>
    <a-asset-item id="acidcab_c.gltf" src="assets/chem-lab/acidcab_c.gltf"></a-asset-item>
    <a-asset-item id="acidcab_case_1.gltf" src="assets/chem-lab/acidcab_case_1.gltf"></a-asset-item>
    <a-asset-item id="acidcab_case_2.gltf" src="assets/chem-lab/acidcab_case_2.gltf"></a-asset-item>
    <a-asset-item id="acidcab_case_3.gltf" src="assets/chem-lab/acidcab_case_3.gltf"></a-asset-item>
    <a-asset-item id="cab_base.gltf" src="assets/chem-lab/cab_base.gltf"></a-asset-item>
    <a-asset-item id="chemlab_UI.gltf" src="assets/chem-lab/chemlab_UI.gltf"></a-asset-item>
    <a-asset-item id="deskchaircomp.gltf" src="assets/chem-lab/deskchaircomp.gltf"></a-asset-item>
    <a-asset-item id="deskchaircomputer.gltf" src="assets/chem-lab/deskchaircomputer.gltf"></a-asset-item>
    <a-asset-item id="faucet.gltf" src="assets/chem-lab/faucet.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_left_black.gltf" src="assets/chem-lab/fumehood_knob_left_black.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_left_blue.gltf" src="assets/chem-lab/fumehood_knob_left_blue.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_left_green.gltf" src="assets/chem-lab/fumehood_knob_left_green.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_left_yellow.gltf" src="assets/chem-lab/fumehood_knob_left_yellow.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_right_black.gltf" src="assets/chem-lab/fumehood_knob_right_black.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_right_blue.gltf" src="assets/chem-lab/fumehood_knob_right_blue.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_right_green.gltf" src="assets/chem-lab/fumehood_knob_right_green.gltf"></a-asset-item>
    <a-asset-item id="fumehood_knob_right_yellow.gltf" src="assets/chem-lab/fumehood_knob_right_yellow.gltf"></a-asset-item>
    <a-asset-item id="fumehood.gltf" src="assets/chem-lab/fumehood.gltf"></a-asset-item>
    <a-asset-item id="wallshelves.gltf" src="assets/chem-lab/wallshelves.gltf"></a-asset-item>
    <a-asset-item id="bottle.gltf" src="assets/chem-lab/bottle.gltf"></a-asset-item>
    <a-asset-item id="bunsenburner.gltf" src="assets/chem-lab/bunsenburner.gltf"></a-asset-item>
    <a-asset-item id="doors.gltf" src="assets/chem-lab/doors.gltf"></a-asset-item>
    <a-asset-item id="goggles.gltf" src="assets/chem-lab/goggles.gltf"></a-asset-item>
    <a-asset-item id="room.gltf" src="assets/chem-lab/room.gltf"></a-asset-item>
    <a-asset-item id="scale.gltf" src="assets/chem-lab/scale.gltf"></a-asset-item>
    <a-asset-item id="drawerscabinets_all.gltf" src="assets/chem-lab/drawerscabinets_all.gltf"></a-asset-item>
  
    <!-- Video Imports -->
    <video id="reagentvid-3" preload="none" src="assets/movies/reaction_3.mp4"></video>
    <video id="reagentvid-7" preload="none" src="assets/movies/reaction_7.mp4"></video>
    <video id="reagentvid-9" preload="none" src="assets/movies/reaction_9.mp4"></video>
    <video id="reagentvid-10" preload="none" src="assets/movies/reaction_10.mp4"></video>
    <video id="reagentvid-13" preload="none" src="assets/movies/reaction_13.mp4"></video>
    <video id="reagentvid-14" preload="none" src="assets/movies/reaction_14.mp4"></video>
    <video id="reagentvid-15" preload="none" src="assets/movies/reaction_15.mp4"></video>
    <video id="reagentvid-16" preload="none" src="assets/movies/reaction_16.mp4"></video>
    <video id="reagentvid-17" preload="none" src="assets/movies/reaction_17.mp4"></video>
    <video id="reagentvid-18" preload="none" src="assets/movies/reaction_18.mp4"></video>
  
    <!-- Bottle Labels -->
    <img id="01MKI-label" src="assets/chem-lab/bottle-labels/01MKI.jpg">
    <img id="01MNa2CO3-label" src="assets/chem-lab/bottle-labels/01MNa2CO3.jpg">
    <img id="1MNa2CO3-label" src="assets/chem-lab/bottle-labels/1MNa2CO3.jpg">
    <img id="01MNaBr-label" src="assets/chem-lab/bottle-labels/01MNaBr.jpg">
    <img id="03MAgNO3-label" src="assets/chem-lab/bottle-labels/03MAgNO3.jpg">
    <img id="3MHCl-label" src="assets/chem-lab/bottle-labels/3MHCl.jpg">
    <img id="3MNaOH-label" src="assets/chem-lab/bottle-labels/3MNaOH.jpg">
    <!-- <img id="013CuSO4-label" src="assets/chem-lab/bottle-labels/013CuSO4.jpg"> -->
    <img id="CuOH2-label" src="assets/chem-lab/bottle-labels/CuOH2.jpg">
  
    <!-- Mixins -->
    <a-mixin id="cube" cube-mixin track-movement droppable-item tabindex="0" shadow></a-mixin>
    <a-mixin id="lab-table-mixin" droppable event-set__dragon="_event: dragover-start; wireframe: true"
      event-set__dragoff="_event: dragover-end; wireframe: false;"></a-mixin>
    <a-mixin id="transformer" color-randomizer droppable static-body collision-filter="collisionForces: false"
      geometry="primitive: box; width: 0.5; height: 0.5; depth: 0.5"></a-mixin>
    <!-- to customize gaze cursor appearance. must list all components
           because override property is set on progressive-controls -->
    <a-mixin id="mycursor" position="0 0 -0.5" raycaster geometry="primitive: ring; radiusOuter: 0.008; radiusInner: 0.005; segmentsTheta: 32"
      material="color: white; shader: flat" static-body="shape: sphere; sphereRadius: 0.001" super-hands="colliderEvent: raycaster-intersection;
                            colliderEventProperty: els;
                            colliderEndEvent:raycaster-intersection-cleared;
                            colliderEndEventProperty: clearedEls;
                            colliderState:"></a-mixin>
    <!-- to change touch mode collider -->
    <a-mixin id="mytouch" physics-collider phase-shift collision-filter="collisionForces: false" static-body="shape: sphere; sphereRadius: 0.02"
      super-hands="colliderEvent: collisions; colliderEventProperty: els;
                            colliderEndEvent: collisions; colliderEndEventProperty: clearedEls;
                            colliderState:"></a-mixin>
  </a-assets>


  <a-entity fire></a-entity>
  
  
  <!-- Surfaces -->
  <a-box id="lab-table" droppable-surface lab-table mixin="lab-table-mixin" static-body rotation="0 90 0" position="-9.459530372134438 3.881 -6.8842553482862305"
    geometry="width:1.71;height:0.001;depth:5" visible="false" scale="1.4 1 1.32" droppable></a-box>
  
  <!-- Chem lab -->
  <a-entity id="acidcab_a.gltf" gltf-model="#acidcab_a.gltf"></a-entity>
  <a-entity id="acidcab_b.gltf" gltf-model="#acidcab_b.gltf"></a-entity>
  <a-entity id="acidcab_c.gltf" gltf-model="#acidcab_c.gltf"></a-entity>
  <a-entity id="acidcab_case_1.gltf" gltf-model="#acidcab_case_1.gltf"></a-entity>
  <a-entity id="acidcab_case_2.gltf" gltf-model="#acidcab_case_2.gltf"></a-entity>
  <a-entity id="acidcab_case_3.gltf" gltf-model="#acidcab_case_3.gltf"></a-entity>
  <a-entity id="cab_base.gltf" gltf-model="#cab_base.gltf"></a-entity>
  <a-entity id="deskchaircomp.gltf" droppable-surface gltf-model="#deskchaircomp.gltf"></a-entity>
  <a-entity id="deskchaircomputer.gltf" droppable-surface gltf-model="#deskchaircomputer.gltf"></a-entity>
  <a-entity id="fumehood_knob_left_black.gltf" gltf-model="#fumehood_knob_left_black.gltf"></a-entity>
  <a-entity id="fumehood_knob_left_blue.gltf" gltf-model="#fumehood_knob_left_blue.gltf"></a-entity>
  <a-entity id="fumehood_knob_left_green.gltf" gltf-model="#fumehood_knob_left_green.gltf"></a-entity>
  <a-entity id="fumehood_knob_left_yellow.gltf" gltf-model="#fumehood_knob_left_yellow.gltf"></a-entity>
  <a-entity id="fumehood_knob_right_black.gltf" gltf-model="#fumehood_knob_right_black.gltf"></a-entity>
  <a-entity id="fumehood_knob_right_blue.gltf" gltf-model="#fumehood_knob_right_blue.gltf"></a-entity>
  <a-entity id="fumehood_knob_right_green.gltf" gltf-model="#fumehood_knob_right_green.gltf"></a-entity>
  <a-entity id="fumehood_knob_right_yellow.gltf" gltf-model="#fumehood_knob_right_yellow.gltf"></a-entity>
  <a-entity id="fumehood.gltf" droppable-surface gltf-model="#fumehood.gltf"></a-entity>
  <a-entity id="wallshelves.gltf" droppable-surface gltf-model="#wallshelves.gltf"></a-entity>
  <a-entity id="bunsenburner.gltf" gltf-model="#bunsenburner.gltf"></a-entity>
  <a-entity id="doors.gltf" gltf-model="#doors.gltf" position="10 10 10"></a-entity>
  <a-entity id="goggles.gltf" gltf-model="#goggles.gltf"></a-entity>
  <a-entity id="room.gltf" gltf-model="#room.gltf"></a-entity>
  <a-entity id="scale.gltf" gltf-model="#scale.gltf"></a-entity>
  <a-entity id="drawerscabinets_all.gltf" droppable-surface gltf-model="#drawerscabinets_all.gltf"></a-entity>
  
  <!-- Lights -->
  <a-entity id="point-light-1" light="type:point;decay:.5;intensity:.1;" position="-13.066 5.526 0"></a-entity>
  <a-entity id="point-light-2" light="type:point;decay:.5;intensity:.1;" position="-10.066 5.526 0"></a-entity>
  <a-entity id="point-light-3" light="type:point;decay:.5;intensity:.1;" position="-7.066 5.526 0"></a-entity>
  <a-entity id="point-light-4" light="type:point;decay:.5;intensity:.1;" position="-4.066 5.526 0"></a-entity>
  <a-entity id="point-light-5" light="type:point;decay:.5;intensity:.1;" position="-1.066 5.526 0"></a-entity>
  <a-entity id="point-light-6" light="type:point;decay:.5;intensity:.1;" position="2.066 5.526 0"></a-entity>
  <a-entity id="point-light-7" light="type:point;decay:.5;intensity:.1;" position="5.066 5.526 0"></a-entity>
  <a-entity id="point-light-8" light="type:point;decay:.5;intensity:.1;" position="8.066 5.526 0"></a-entity>
  <a-entity id="point-light-9" light="type:point;decay:.5;intensity:.1;" position="11.066 5.526 0"></a-entity>
  <a-entity id="lab-light-1" light="type:spot;penumbra:1;castShadow:true;decay:0.6;intensity:0.3"></a-entity>
  
  
  <!-- Bottle -->
  <a-entity bottle="id:01MKI" position="-10 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:01MNa2CO3" position="-9.5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:1MNa2CO3" position="-9 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:01MNaBr" position="-8.5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:03MAgNO3" position="-8 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:3MHCl" position="-7.5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:3MNaOH" position="-7 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:013CuSO4" position="-6.5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity bottle="id:CuOH2" position="-5.5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity id="bottle-copperstrips" data-inventory-id="copperstrips" gltf-model="#copperstrips-object" touching="target:#lab-table" mixin="cube" scale="5 5 5" position="-6 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity id="bottle-magnesiumstrips" data-inventory-id="magnesiumstrips" gltf-model="#magnesiumstrips-object" touching="target:#lab-table" mixin="cube" scale="5 5 5" position="-5 5.723517532020134 -7.613044906943596"></a-entity>
  <a-entity id="bunsen-burner" data-inventory-id="bunsenburner" touching="target:#lab-table" mixin="cube" geometry="primative:box;width:.5,height:1;depth:.5" position="-4.706 5.629 4.025"></a-entity>
  
  <!-- Surfaces -->
  <a-box id="floor" jump geometry="width: 28.85; height: 0.001; depth: 8.469999999999999" material="visible:false;"></a-box>
  
  <!-- Active Item Indicator -->
  <a-entity id="active-item-indicator" active-item-indicator="offset:0 -.4 0;" scale=".3 .3 .3">
    <a-entity id="indicator-2" geometry="primitive:octahedron;radius:0.73" material="color:#bd1f4f;width:300;roughness:.5;metalness:1;"
      animation="property: position; dir: alternate; dur: 500;
      easing: easeInSine; loop: true; to: 0 1.3 0"
      animation__rotation="property: rotation; dir: forward; dur: 3300;
      easing: linear; loop: true; to: 0 360 0"></a-entity>
  </a-entity>
  
  <!-- Camera / Hands -->
  <!-- @todo: incorportate hands -->
  <!-- <a-entity position="0 4 0" rotation="0 0 0" progressive-controls="gazeMixin: mycursor; touchMixin: mytouch; override: true">
    <a-entity id="rhand" class="right-controller"></a-entity>
    <a-entity id="lhand" class="left-controller"></a-entity>
    <a-entity id="camera" position="0 0 0" camera track-movement wasd-controls="acceleration:220;fly:false;" look-controls="pointerLockEnabled:true"></a-entity>
  </a-entity> -->
  
  <!-- Default Camera -->
  <a-entity id="camera" position="0 6 0" look-controls="pointerLockEnabled:false" camera="active:true" wasd-controls="acceleration:220;fly:false;">
    <a-entity hud gltf-model="#chemlab_UI.gltf" rotation="0 -90 0" scale=".1 .1 .1" position="0 -0.6 -0.8">
      <!-- Hud Reagents -->
      <a-text hud-reagents="" value="" rotation="-18.359915698322236 106.78607197088832 -5.69439422851283" text="" position="-1.3838973914076411 -0.11896461691933975 5.781030367041764"> </a-text>
      <!-- Initiate Button -->
      <a-entity hud-button-initiate gltf-part="src:#chemlab_UI.gltf;part:button_initiate" position="0.08565501158670354 0.02288749808540136 0.021074438634518175" material="visible:false"></a-entity>
      <!-- Video Player -->
      <a-entity video-player material="src:#reagentvid-3;" geometry="width:0.001;depth:5.13;height:2.2399999999999998" position="-2.05 -0.2099999999999999 0.63" rotation="0 0 14.999999999999998"></a-entity> 
      <!-- Hud Lights -->
      <a-entity id="hud-lights-greenLight" hud-light="light:greenLight" geometry="primitive:sphere" material="color:green;opacity:0.9" position="-2.5670972986400145 1.6349799124596773 -1.8059205015431607" scale="0.1515400201818506 0.1515400201818506 0.1515400201818506"></a-entity>
      <a-entity id="hud-lights-redLight" hud-light="light:redLight" geometry="primitive:sphere" material="color:red;opacity:0.9" position="-2.497243342044656 1.1991073643366739 -1.8156550286089754" scale="0.15833074755666748 0.15833074755666748 0.15833074755666748" visible=""></a-entity>
      <!-- Hud Arrows -->
      <a-entity id="hud-activate-arrow" hud-arrow="" position="-2.9107365022362313 2.021223710233268 0.6199970402749964"></a-entity>
      <a-entity id="hud-deactivate-arrow" hud-arrow="" position="-1.7072216773187106 -1.9514653751540192 0.6200000000000002" rotation="0 0 37.849"></a-entity>
      <!-- Hud Light -->
      <a-entity id="hud-light" light="type: point; decay: 0.81; intensity: 0.6; distance: 1.11; penumbra: 0.89; angle: 58.12" position="4 5.526 0"></a-entity>
    </a-entity>
  </a-entity>
  
  </a-scene>
</body>

</html>